<html>
<head>
    <title>Подкрепления</title>
    <meta charset='utf-8'>
    <link rel='stylesheet' type='text/css' href='../style.css'>
    <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
</head>
<body>
<h1>Подкрепления</h1>
<script src="../js/header_href.js"></script>
<p>Одной интересной возможностью в редакторе является организация подкреплений. Так, игроку по ходу прохождения игры
    можно давать очки за выполненные задания, которые он может потратить на технику и пехоту, которых призовёт из-за
    карты. Это и называется <span style="text-decoration: underline;">подкреплением</span> (<span
            style="text-decoration: underline;">reinforcement</span>).</p>
<p>Первым шагом является создание этиx самых подкреплений. Для этого в режиме создания миссии (F3) нажимаем клавишу F9 и
    открываем строку <b>reinforcements</b>. Сначала откроется окно с двумя строчками.<br/>
    <img src='../images/mission_prop/reinf_empty.jpg'/><br/>
    В строке <b>scoreTotal</b> указывается максимально возможное количество заработаных очков подкрепления.<br/>
    В строке <b>scoreCurrent</b> - текущее количество очков подкрепления (на момент запуска миссии).<br/>
    Для добавления нового подкрепления нажмите клавишу INSERT или нажмите ПКМ и выберете пункт Add.. <img
            src='../images/mission_prop/key_add.jpg'/><br/>
    После этого откроется окно ввода названия подкрепления (не путать с текстом подкрепления!).<br/>
    <img src='../images/mission_prop/reinf_input.jpg'/><br/>
    После ввода названия в окно редактора подкреплений добавятся строки группы, которая называется как Ваше
    подкрепление.<br/>
    <img src='../images/mission_prop/reinf_reinf1_empty.jpg'/></p>
<p>Далее по строкам. Строка <b>state</b> указывает начальное состояние подкрепления. Оно может быть скрытым
    (<b>hidden</b>) или задействованым (<b>working</b>). Значение по-умолчанию эквивалентно значению
    <b>working</b>.<br/>
    <img src='../images/mission_prop/reinf_list_state.jpg'/><br/>
    В строке <b>text</b> содержится текст подкрепления, который отображается на иконке подкрепления.<br/>
    Строка <b>image</b> содержит имя изображения, которое будет подставленно в иконку подкрепления.<br/>
    Строка <b>hint</b> содержит подсказку (краткую вспомогательную информацию) про объект подкрепления. Отображается в
    всплывающем тексте при наведении курсора на подкрепление.<br/>
    В строке <b>count</b> указывается количество возможных вызовов подкрепления при достаточном количестве очков
    подкрепления. Значение <b>-1</b> указывает на то, что данное подкрепление можно вызывать бесконечное число раз,
    главное чтобы было достаточно средств (очков).<br/>
    Строка <b>score</b> указывает стоимость подкрепления в очках.<br/>
    Строка <b>delay</b> задаёт время между вызовами подкрепления.<br/>
    Строки <b id='eventSE'>eventStart</b> и <b>eventEnd</b> указывают событие, которое происходит при вызове данного
    подкрепления. Событие в строке <b>eventStart</b> вызывается сразу при нажатии на иконку, а в строке <b>eventEnd</b>
    - по окончанию времени, заданого в строке <b>delay</b>.<br/>
    Строка <b>waypoint</b> указывает номер вейпоинта, который устанавливается курсором после нажатия на иконку.<br/>
<div
        style="text-align: center;"><img src='../images/mission_prop/reinf_reinf1_full.jpg'/></div>
</p>
<p>Таким образом, в примере будут вызываться танки Т-34/85 (уточнение, что этот танк является средним танком), которых в
    наличии 10 штук и стоят они по 25 очков каждый. Также время между вызовами этого танка не должно быть меньше одной
    минуты.<br/>
<div style="text-align: center;">Вот иконка подкрепления до вызова:<br/>
    <img src='../images/mission_prop/reinf_demo_before.jpg'/><br/>
    Текст подсказки при удержке курсора на иконке несколько секунд:<br/>
    <img src='../images/mission_prop/reinf_demo_before_hint.jpg'/><br/>
    Иконка после вызова подкрепления (пошёл отчёт времени, указаного в строке delay):<br/>
    <img src='../images/mission_prop/reinf_demo_after.jpg'/><br/>
    Сам танк, вызваный подкреплением:<br/>
    <img src='../images/mission_prop/reinf_demo_tank.jpg' width=100%/></div>
</p>
<p>Идём дальше. Чтобы заставить танк появиться и отправится в нужное нам место необходимо создать ряд команд.<br/>
<div style="text-align: center;"><img src='../images/mission_prop/reinf_commands.jpg'/></div>
<br>
Сначала установите галочку на <b>Autoreset</b>, чтобы этот триггер мог вызываться много раз.<br/>
Далее установите условие на срабатывании события <b>t34</b> (имя события может быть любое, главное, чтобы оно совпадало
с событием со строки eventStart и/или eventEnd).<br/>
Первая команда <a href='../delay.html'>delay</a> не обязательна, она просто даёт нам фору в одну секунду, чтобы мы
смогли увидить, как появляется подкрепление.<br/>
В команде <a href='../waypoint.html'>waypoint</a> указывается юнит, который будет появляться и место, куда он
приедет.<br/>
<img src='../images/mission_prop/reinf_com_waypoint.jpg'/><br/>
В команде <a href='../event.html'>event</a> мы сбрасываем событие <b>t34</b> (mode=reset), чтобы его можно было вызвать
ещё раз (для одноразовых подкреплений это не обязательно).<br/>
И в конце команда <a href='../entity/entity_state.html'>entity_state</a> убирает тег <b>reinf_t34</b> у нашего танка,
чтобы не возникло путанины между вызваным танком и тем, который стоит в резерве. Если в команде waypoint в строке clone
значение ИСТИНА, то эта команда не обязательна.<br/>
<img src='../images/mission_prop/reinf_com_es.jpg'/>
</p>
<p>Примечания:
<ol>
    <li>Чтобы юнита не было видно до вызова подкрепления, ставьте ему тег hidden.</li>
    <li>Если у подкрепление при запуске миссии стоит state=hidden, то вывести его на экран можно через команду <a
            href='../other/reinforcement.html'>reinforcement</a>. Там же можно добавить и изменить максимальное число
        очков подкрепления, а также скрыть подкрепление.
    </li>
    <li>Чтобы дать возможность игроку бескончено вызывать подкрепление, поставьте в строке <b>count</b> значение
        <b>-1</b>.
    </li>
</ol>
</p>

<h3>См. также</h3>
<li><a href='reinforcements_advanced.html'>Дополнительный материал по подкреплениям</a></li>

<iframe class='f9' src='table_f9.html'></iframe>
<script src="../js/signature.js"></script>
</body>
</html>